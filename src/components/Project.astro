---
import ExternalLinkIcon from "./icons/ExternalLinkIcon.astro";
const { projectLink, projectTitle, projectDescription, view, backgroundImage } =
  Astro.props;
---

<a href={projectLink} target="_blank" rel="noopener noreferrer">
  <div
    class=`my-7 group relative w-full grid px-2 py-4 sm:p-4 grid-flow-col grid-cols-3 grid-rows-3 items-center bg-cover min-h-80 max-w-2xs sm:min-h-92 sm:min-w-lg rounded-xl`
  >
    <div
      class="group-hover:opacity-60 background transition-all duration-500 ease-in-out rounded-xl absolute bg-cover w-full h-full z-0"
      style={`background-image: url(${backgroundImage});`}
    >
    </div>
    <div
      class="group-hover:opacity-100 opacity-0 transition-opacity duration-500 ease-in-out col-span-3 z-20"
    >
      <slot />
    </div>
    <div
      class="text-xl font-bold col-span-3 row-start-2 flex justify-center z-20"
    >
      <span
        class="group-hover:opacity-100 flex items-center gap-1 text-amber-50 opacity-0 transition-opacity duration-500 ease-in-out"
        ><span>{view}</span>
        <ExternalLinkIcon />
      </span>
      <span
        class="group-hover:opacity-0 transition-opacity duration-500 ease-out absolute"
        >{projectTitle}</span
      >
    </div>
    <div
      class="group-hover:opacity-100 text-center text-amber-50 opacity-0 transition-opacity duration-500 ease-in-out col-span-3 row-start-3 z-20"
    >
      <p>{projectDescription}</p>
    </div>
  </div>
</a>

<style>
  .background {
    background-size: 100%;
  }
  .group:hover .background {
    background-size: 108%;
  }
</style>
